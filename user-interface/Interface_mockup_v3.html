<!DOCTYPE html>
<html>
<head>
	
	<title> Opiates on Social Media</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
	
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
	
	<script src="midtermNew.json" type="text/javascript"></script>
	<script src="md_counties.json" type="text/javascript"></script>


	<style>
		html, body {
			height: 100%;
			margin: 0;
		}
		#map {
			width: 1000px;
			height: 700px;
		}

		.mapboxgl-popup {
		max-width: 200px;
		}
		
		div.mapC {
		margin-left: 30px;
		}
		
		h1{
		margin-left: 30px;
		}
	</style>

	
</head>

<body>

<h1>GES 771 Final Project Interface Mockup</h1><br><br>

<div id='map' class='mapC'></div>

<script src="http://leafletjs.com/examples/geojson/sample-geojson.js"" type="text/javascript"></script>

<script>

	
var mbAttr = 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
	mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic2hoNSIsImEiOiJjamVnZDJsOGQyZHNmMndxZTlqNnhlYW50In0.FC9oeiu5qtD9o19qjlfkMg';
	
var grayscale   = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: mbAttr}),
    streets  = L.tileLayer(mbUrl, {id: 'mapbox.streets',   attribution: mbAttr}); 
var baseLayers = {
    "Grayscale": grayscale,
    "Streets": streets
};


<!-- Mock data of Shady Grove campus for adding polygons -->
var shadyCoords = [          
                    [39.095431, -77.201409],
                    [39.093194, -77.197503],
                    [39.092994, -77.196757],
                    [39.091408, -77.197956],
                    [39.090456, -77.201567],
                    [39.093537, -77.202562],
					[39.095272, -77.201869]
        ];

var shadygrove = L.polygon(shadyCoords, {
		color : 'green',
		fillcolor : 'green',
		fillopacity : 1
		});		
<!-- End Shady Grove data -->
		
var map = L.map('map', {
		center: [38.922778, -76.628333],
		zoom: 8,
		layers: [grayscale]
	});
	

var countystyle = {
	fillColor: "#0000ff",
	color: "#33cc33",
	weight: 3,
	opacity: 1,
	fillopacity: 1
	};
	
var opiates_MarkerOptions = {
    radius: 10,
    fillColor: "#ff0000",
	color: "#33cc33",
    weight: 2,
    opacity: 1,
    fillOpacity: 0.6
};

/* COMMENT OUT THIS PART WHILE I FIGURE OUT THE REST
var narcan_MarkerOptions = {
    radius: 10,
    fillColor: "#0000ff",
    color: "#33cc33",
    weight: 2,
    opacity: 1,
    fillOpacity: 0.6
};

var overdose_MarkerOptions = {
    radius: 10,
    fillColor: "#55bc36",
    color: "#33cc33",
    weight: 2,
    opacity: 1,
    fillOpacity: 0.6
};


narcanTweetsLayer = L.geoJson(sarah_tweets, {
    pointToLayer: function (feature, latlng) {
        return L.circleMarker(latlng,narcan_MarkerOptions);
    }, onEachFeature: onEachFeature
});

overdoseTweetsLayer = L.geoJson(hunt_tweets, {
    pointToLayer: function (feature, latlng) {
        return L.circleMarker(latlng,overdose_MarkerOptions);
    }, onEachFeature: onEachFeature
});

var tweets = L.layerGroup([opiatesTweetsLayer, narcanTweetsLayer, overdoseTweetsLayer]);
*/

opiatesTweetsLayer = L.geoJson(myTweets, {
    pointToLayer: function (feature, latlng) {
        return L.circleMarker(latlng, opiates_MarkerOptions);
    }, onEachFeature: onEachFeature
});



countiesLayer = L.geoJson(counties, {
    fillColor: "#0000ff",
	color: "#33cc33",
	weight: 3,
	opacity: 1,
	fillopacity: 1
});

	
var overlays = {
	"Counties" : countiesLayer,
	"Shady Grove" : shadygrove,
	"Opiates Tweets" : opiatesTweetsLayer
};


var lc = L.control.layers(baseLayers, overlays, {collapsed : false, position : 'topright'});
map.addControl(lc);

 function onEachFeature(feature, layer) {
 if (feature.properties && feature.properties.text) {
 layer.bindPopup('<b>User: </b>' + feature.properties.user_screen_name + '<br><br>'
		+ '<b>Content: </b>' + feature.properties.text + '<br><br>'
		+ '<b>Time: </b>' + feature.properties.created_at + '<br><br>'
		);
 }
 }
  
</script>


</body>
</html>